(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[271],{6595:function(e,r,a){Promise.resolve().then(a.bind(a,1746))},1746:function(e,r,a){"use strict";a.r(r),a.d(r,{default:function(){return o}});var s=a(7437),t=a(2265),n=a(6463),l=a(7138);function o(){let e=(0,n.useRouter)(),[r,a]=(0,t.useState)({email:"",password:"",confirmPassword:"",role:"CUSTOMER"}),[o,i]=(0,t.useState)(""),[c,d]=(0,t.useState)(!1),u=async a=>{if(a.preventDefault(),d(!0),i(""),r.password!==r.confirmPassword){i("Passwords do not match"),d(!1);return}try{let a=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r.email,password:r.password,role:r.role})}),s=await a.json();if(!a.ok)throw Error(s.error||"Something went wrong");e.push("/auth/signin")}catch(e){i(e.message)}finally{d(!1)}};return(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-cake-pink/20 to-cake-purple/20",children:(0,s.jsxs)("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-md",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold bg-gradient-to-r from-cake-pink to-cake-purple bg-clip-text text-transparent",children:"Cakez"}),(0,s.jsx)("p",{className:"text-gray-600 mt-2",children:"Create your account"})]}),(0,s.jsxs)("form",{onSubmit:u,className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,s.jsx)("input",{id:"email",type:"email",value:r.email,onChange:e=>a({...r,email:e.target.value}),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cake-pink focus:border-transparent",placeholder:"you@example.com"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),(0,s.jsx)("input",{id:"password",type:"password",value:r.password,onChange:e=>a({...r,password:e.target.value}),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cake-pink focus:border-transparent",placeholder:"••••••••"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),(0,s.jsx)("input",{id:"confirmPassword",type:"password",value:r.confirmPassword,onChange:e=>a({...r,confirmPassword:e.target.value}),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cake-pink focus:border-transparent",placeholder:"••••••••"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"I want to:"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("label",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"radio",name:"role",value:"CUSTOMER",checked:"CUSTOMER"===r.role,onChange:e=>a({...r,role:e.target.value}),className:"mr-2 text-cake-pink focus:ring-cake-pink"}),(0,s.jsx)("span",{className:"text-sm",children:"Order cakes (Customer)"})]}),(0,s.jsxs)("label",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"radio",name:"role",value:"BAKER",checked:"BAKER"===r.role,onChange:e=>a({...r,role:e.target.value}),className:"mr-2 text-cake-pink focus:ring-cake-pink"}),(0,s.jsx)("span",{className:"text-sm",children:"Sell cakes (Baker)"})]})]})]}),o&&(0,s.jsx)("div",{className:"text-red-500 text-sm text-center",children:o}),(0,s.jsx)("button",{type:"submit",disabled:c,className:"w-full bg-gradient-to-r from-cake-pink to-cake-purple text-white py-2 px-4 rounded-lg font-medium hover:opacity-90 transition-opacity disabled:opacity-50",children:c?"Creating account...":"Sign Up"})]}),(0,s.jsxs)("div",{className:"mt-6 text-center text-sm text-gray-600",children:["Already have an account?"," ",(0,s.jsx)(l.default,{href:"/auth/signin",className:"text-cake-purple hover:underline",children:"Sign in"})]})]})})}},7138:function(e,r,a){"use strict";a.d(r,{default:function(){return t.a}});var s=a(231),t=a.n(s)},6463:function(e,r,a){"use strict";var s=a(1169);a.o(s,"useRouter")&&a.d(r,{useRouter:function(){return s.useRouter}})}},function(e){e.O(0,[231,971,23,744],function(){return e(e.s=6595)}),_N_E=e.O()}]);